<!DOCTYPE html>
<html lang="en">
<head>

	<!-- Setup stuff -->
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">	
    	<meta name="viewport" content="width=device-width, initial-scale=1.0">
    	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	
	<!-- Bootstrap imports -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
	
	<!-- Import the CSS -->
	<link rel="stylesheet" type="text/css" href="faq.css" media="screen"/>
	
	<!-- Title -->
    	<title>Mantione Cars</title>
	
	<!-- Javascript -->

	<!-- Submit the form -->
	<script>
		(function() {
		"use strict";
		var //GLOBAL VARIABLES
		input,
		container,
		//CSS CLASSES
		classSuccess = "success",
		classError = "error",
		//FORM VALIDATOR
		formValidator = {
			init: function() {
				this.cacheDom();
				this.bindEvents();
			},
			cacheDom: function() {
				//MAIN PARENT ELEMENT
				this.contactForm = document.getElementById("contactForm");
				//MAIN FORM ELEMENTS
				this.formBody = document.getElementById("formBody");
				this.inputContainer = document.getElementsByClassName("inputContainer");
				//USER INPUT ELEMENTS
				//INPUT FIELDS
				this.fields = {
					userMessage: document.getElementById("userMessage")
				};
					this.submitBtn = document.getElementById("submitBtn");
				},
				bindEvents: function() {
					var i;
					//RUN RULES ON SUBMIT BUTTON CLICK
					this.submitBtn.onclick = this.runRules.bind(this);
					//BIND EVENTS TO EACH INPUT FIELD
					for (i in this.fields) {
						if (this.fields.hasOwnProperty(i)) {
							//VARIABLES
							input = this.fields[i];
							container = input.parentElement;
							//RUN RULES WHEN INPUT HAS FOCUS
							input.onfocus = this.runRules.bind(this);
							//RESET ERRORS WHEN CONTAINER IS CLICKED
							container.onclick = this.resetErrors.bind(this, input);
						}
					}
				},
				runRules: function(evnt) {
					var target = evnt.target,
							type = evnt.type;
					//IF EVENT ON SUBMIT BUTTON
					if (target === this.submitBtn) {
						//PREVENT FORM SUBMITTION
						this.preventDefault(evnt);
						//IF INPUT HAS FOCUS
					} else if (type === "focus") {
						//RESET CLASSLIST
						this.resetClassList(target.parentElement);
						//RESET ERRORS
						this.resetErrors(target);
						return false;
					}
					//RESET CLASSLIST
					this.resetClassList();
					//CHECK FIELDS
					this.checkFields();
				},
				preventDefault: function(evnt) {
					//PREVENT DEFUALT
					evnt.preventDefault();
				},
				checkFields: function() {
					var i,
							validCount = 0,
							//EMAIL FILTER 
							filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
					//CYLCE THROUGH INPUTS
					for (i in this.fields) {
						if (this.fields.hasOwnProperty(i)) {
							input = this.fields[i];
							//CHECK IF FIELD IS EMPTY
							if (input.value === "") {
								//ADD ERROR CLASS
								this.addClass(input, classError);
							} else {
								//FIELD IS VALID
								this.addClass(input, classSuccess);
								validCount = 1;
							}
						}
					}
					//IF ALL FEILDS ARE VALID
					if (validCount === 1) {
						//SUBMIT FORM
						this.submitForm();
					}
				},
				addClass: function(input, clss) {
					container = input.parentElement;
					//IF INPUT HAS ERROR
					if (clss === classError) {
						//SHOW ERROR MESSAGE
						this.errorMessage(input);
					}
					//ADD CLASS
					input.parentElement.classList.add(clss);
				},
				errorMessage: function(input) {
					var message;
					//IF USERNAME HAS ERROR
					if (input === this.fields.userMessage) {
						message = "Please enter your suggestion";
						
					} 
					this.renderError(input, message);
				},
				renderError: function(input, message) {
					var html;
					//GET INPUT CONTAINER
					container = input.parentElement;
					//RENDER HTML
					html = document.createElement("div");
					html.setAttribute("class", "message");
					html.innerHTML = message;
					//IF MESSAGE ELEMENT DOESN'T EXIST
					if (!container.getElementsByClassName("message")[0]) {
						//INSERT MESSAGE TO INPUT CONTAINER
						container.insertBefore(html, container.firstElementChild);
					}
				},
				resetClassList: function(input) {
					var i;
					//IF TARGETING SPECIFIC INPUT
					if (input) {
						//GET INPUT CONTAINER
						container = input.parentElement;
						//REMOVE CLASSES
						container.classList.remove(classError, classSuccess);
						//FOCUS ON INPUT FIELD
						input.focus();
					} else {
						for (i in this.fields) {
							if (this.fields.hasOwnProperty(i)) {
								//REMOVE CLASSES FROM ALL FIELDS
								this.fields[i].parentElement.classList.remove(classError, classSuccess);
							}
						}
					}
				},
				resetErrors: function(input) {
					//GET INPUT CONTAINER
					container = input.parentElement;
					//IF CONTAINER CONTAINS ERROR
					if (container.classList.contains(classError)) {
						//RESET CLASSES
						this.resetClassList(input);
					}
				},
				submitForm: function() {
					var waitForAnimation;
					//ADD SUCCESS CLASS
					this.contactForm.classList.add(classSuccess);
					//WAIT FOR ANIMATION TO FINISH
					this.changeHeader("Sent Succesfully");
					//WAIT FOR ANIMATION TO FINISH
					setTimeout(this.changeHeader.bind(this, "Thank you for your feedback"), 1200);
				},
				changeHeader: function(text) {
					//CHANGE HEADER TEXT
					this.formHeader.innerHTML = text;
				}
			};
		//INITIATE FORM VALIDATOR
		formValidator.init();
		}());		
	</script>
	
</head>

<body>
<main>

	<a href="index.html"><img src="mantione.png" alt="logo" width="200" height="200"></a>

    <h1> FAQ's </h1>

<br>

<!-- Navbar -->
<nav class="navbar navbar-expand-sm bg-dark navbar-dark">
	<a class="navbar-brand" href="#">Links</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="collapsibleNavbar">
		<ul class="navbar-nav">
			<li class="nav-item">
				<a class="nav-link" href="FAQ.html">FAQ's</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="hours.html">Hours</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="products.html">Cars</a>
			</li>
			<li class="nav-item">
				<a class="nav-link" href="services.html">Services</a>
			</li>
		</ul>
	</div>  
</nav>

<br>

<section>
    <!-- Question #1 -->
    <h3>What if I don't like the car that I bought? What is the return policy?</h3>

    <p>You can return an unliked car at anytime after you bought it. However, when returned less that 6 months after purchase, users can expect a total refund and have choice of a new possible car</p>
</section>

<section>
    <!-- Question #2 -->
    <h3>How do the prices of the cars compare with the prices at other dealerships?</h3>

    <p>For the most part, the cars at our dealership cost about the same as if they were sold at any other dealership. However, certain upgrades for some high end cars can make the price a little more expensive</p>
</section>

<section>
    <!-- Question #3 -->
    <h3>What if Mantione doesn't have or is sold out of a particular car?</h3>

    <p>For sold out cars, we try to get more kinds of those cars within a month of being sold out. Also, if you would like to buy a car from us that we don't sell, type it in our suggestion box below and we will try to add it to our catalog.</p>
</section>

<!-- Suggestion box (for question #3) -->
<div id="contactForm" class="contactForm">
	<div id="formBody" class="formBody">
		<form action="" method="POST" name="contactForm">
		<div class="inputContainer">
			<textarea name="feedback" id="userMessage" rows="10" placeholder="Suggestion"></textarea>
		</div>
		<input id="submitBtn" class="submitBtn" type="submit" value="Send">
		</form>
	</div>
<center><p><em>Thank You for your suggestion</em></p></center>
</div>

</main>


</body>
</html>
